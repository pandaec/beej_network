Following Beej's Guide to Network Concepts
https://beej.us/guide/bgnet0/html/split/index.html